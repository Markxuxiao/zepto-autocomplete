var ZeptoAutocomplete={init:function(t,e,i){this.limit=t,this.data=e,this.remoteTimeout=3e3,this.caseSensitive=i!==void 0?i:!0,this._setSelectionRange()},_clear:function(){this.limit=2,this.data="",this.remoteTimeout=3e3},_setSelectionRange:function(){$(".autocomplete-input").click(function(){this.setSelectionRange(0,this.value.length)})},autocomplete:function(t){return this._clear(),this._isDataSourceDefined(t)?this._isLocal(t)?(this._initLocal(t.limit,t.data,t.caseSensitive),void 0):(this._isRemote(t)&&this._initRemote(t.limit,t.data,t.caseSensitive),void 0):void 0},_isDataSourceDefined:function(t){return t!==void 0&&t.datasource!==void 0&&""!==t.datasource&&t.datasource},_isRemote:function(t){return"remote"===t.datasource&&t.data!==void 0&&t.data},_isLocal:function(t){return"local"===t.datasource&&t.data!==void 0&&$.isArray(t.data)},_initLocal:function(t,e){this.init(t,e);var i=$(".autocomplete-input"),o=this;i.bind("keyup",$.proxy(this._handleLocalSearch,o))},_initRemote:function(t,e){this.init(t,e);var i=$(".autocomplete-input"),o=this;i.bind("keyup",$.proxy(this._handleRemoteSearch,o))},_isWithinLimit:function(t){return void 0!==t&&t.length>this.limit},_handleLocalSearch:function(){var t=$(".autocomplete-input").val();return this._isWithinLimit(t)?(this._successHandler(this.data.filter(function(e){return this.caseSensitive?e.indexOf(t)>-1:e.toLowerCase().indexOf(t.toLowerCase())>-1})),void 0):(this._clearResults(),void 0)},_handleRemoteSearch:function(){var t=$(".autocomplete-input").val(),e=this.data+t;return this._isWithinLimit(t)?($.ajax({type:"GET",url:e,dataType:"json",success:$.proxy(this._successHandler,this),error:function(){console.log("Request failed to load suggestions.")},timeout:this.remoteTimeout}),void 0):(this._clearResults(),void 0)},_successHandler:function(t){if(!(void 0===t&&0>=t.length)){var e=$(".autocomplete-result"),i="<ol>";$.map(t,function(t){i+="<li>"+t+"</li>"}),i+="</ol>",e.html(i);var o=this;$(".autocomplete-result li").on("click",function(){var t=$(this).text();$(".autocomplete-input").val(t),o._clearResults()}),e.show()}},_clearResults:function(){var t=$(".autocomplete-result");t.html(""),t.hide()}};(function(t){t.extend(t.fn,ZeptoAutocomplete),t.autocomplete=t.fn.autocomplete})(Zepto);